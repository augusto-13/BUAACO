# Logisim 注意事项

## `1.` 关于 *同步复位* 与 *异步复位*

### `A.` 
**异步复位**极为简单，直接将 `reset` 接至对应接口 "0" 即可

### `B.` 
**同步复位** *两种常用办法* :

`a.`

![图 1](../../images/2459a1e8c579065ddd1fede55f74f4d9bf2e4a785e389e1581d88a6d9b8692b8.png) 
 （充分利用Logisim的bug）

`b.`

`reset` 作为 `Mutiplexer` 的选择位，输出端接在寄存器前，当
选择端（即 `reset` ）== 1 时，输出 0 。
（即 寄存器手动清零 ）

## `2.` 关于 *初始化*

+ 若状态机初始状态编码刚好为 `0` ，则不必刻意初始化。
+ 尤其注意，永远不要初始化 `input` ，想想自己 `P0` 是怎么挂的！！！
  
## `3.` 关于 *FSM*

+ 先确定好状态个数，再画流程图。
+ “走一步画一步”的做法往往会使 `FSM` 由于状态数众多而变得异常复杂
+ 但在确定状态时也一定要谨慎，`"cscore"`，是吧！！！

+ 这里贴上几个标准的状态机，以供大脑犯浑时参考:

  ![图 2](../../images/2e8ca28028c1d1736be0fa621ab6991691bea506f8e49a861f00c5567b4ee096.jpg) 

  ![图 3](../../images/2a868e72c743a9131dbe25fe0cfd299469f764276a3c3fe0e4acbe37798f9f3f.jpg)  

  ![图 4](../../images/688707773ff6eebf9c6b821699eab787d66676af284afc6d2e1579cbc4c2bf24.jpg)  


+ `Mealy` & `Moore`
  
  ![图 5](../../images/2967ca8d80e1ec59f69ca607720cea114bf79717a570aa6bc5ab7f39d25f3d90.png)  
  + 灵活的 `Moore` 状态机，加入一寄存器记录上一状态，与当前状态对比，判断是否 “撞墙” 。
  
  ![图 6](../../images/6fb8aadf56399ff6c1fb83864ad33d386390b4cd62a4f8325b805547dc0f3db6.png)  
  + 典型的 `Mealy` 状态机，不要投机取巧，直接按标准步骤画图。
  
## `4.` 几个常见组合逻辑复习

+ **电路模块化** 之 `swap电路`
  + `1_bit_swap` (3 -> 2)
  + `4_bit_swap`
  + `bubble_sort`
  
+ 上机考试题思路一定非常`straightforward`，学会“按指示操作”即可顺利通过。比如，挂掉的 `P0` 第一题，就非常简单，只是我想复杂了而已。。。
  
+ `DIY shifter`
  
    ![图 7](../../images/c76c1fc3618dbbfb1cac09c68112354772fc6afe3d360c79dbefce22e4097d4f.png)  
  +   `DMX` 的应用
  +   ` OR GATE` 的使用
      +   `0 | 0 = 0`  , `0 | 1 = 1`
      +
         ``` js
         if(selectbit == 1)        shifted   | 0         = shifted
         else if (selectbit == 0)  unshifted | shifted_0 = unshifted
         ```

## `5.` `Fibonacci`
+ 这里不再赘述，自以为已经搞得很明白了！！！


# 最后，P0(2.0)上机加油！！！

--------
# !!! 上机反思 !!!
## 我觉得每次上机结束后对当天的题目反思总结一下还是很有必要的。
+ 一方面，考试过程中遇到的无法解决的疑难问题、de不出的bug ... 可能仅仅只是考场环境、考试情绪以及其他偶然因素导致的，当考试结束、精神放松、换一个环境、换一个时间再回头看自己当时答题遇到的问题，会有全新的视角与全新的收获。
+ 另一方面，总结考试中遇到的问题，吸取经验教训，也算是为下一次上机做好充足的准备。
  
## 好了，废话不多说，看一看这次上机遇到的问题吧：
### `1.` `Decoder`
  `Combinational Analysis` 打表就好
+ 注意输入输出的位数与方向

### `2.` `ChemClub`
#### 基础 `Mealy FSM`，没什么好多说的
+ 解答 `Logisim状态机` 类题目形成 “条件反射式处理体系”
 1. 确定 `FSM` 类型（`Mealy` or `Moore`），确定状态数，进行编码
 2. 画流程图，检查每个节点 **输出线条数** 是否与 **input种类总数** 相同
 3. 制作 `NSL` `Output Logic` `State Register` 三个模块
    + `Mealy` 的 `NSL` 与 `Output Logic` 可合并搭建，只需在搭建结束后将不需要的模块删除即可
 4. `synchronous/asynchronous reset`
 5. 若使用 `one-hot-code` 进行编码，记得给状态 **初始化** 。
    + `P.S.` 请不要闲的没事儿随便乱给 `input` 初始化，再次提醒，想想你 `P0(1.0)` 是怎么挂的 。。。。 
  
  #### 至此，`FSM` 搭建完毕。
### `3.` `gcd`
### （笑死，`20:59` 成功de出最后一处bug，成功AK！！！）
+ 考虑不周全，电路还很乱套，bug 居然还是利用各类 **基础门电路** 成功解决的 (doge)
+ 问题主要出在 `(a % b == 0)` 的情况上
+ 两点经验：
  1. 尽量多使用 `tunnel` 电路结构更清晰
  2. 分析问题时尽量细致，思路要具体：
     +  `divisor == 0` 时 “锁住电路”，输出 `dividend` 。
     +  同时还要再多设一 `register`，只有在 `divisor == 0` 时才输出 `dividend` 的值。