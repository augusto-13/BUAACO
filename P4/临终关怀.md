# **`P4 3.0`**
自从 **临终关怀** 与 **考后反思** 项目被叫停以后，我的上机进度就也同时被叫停了。 一个小小的 `P4` 居然卡了我两周，我人没了！！！所以，亡羊补牢，痛定思痛，我决定将此活动重新提上日程！！！
## **A.**  `P4-1.0` , `P4-2.0` **错误分析**
### **I.** **基础错误**
+ `always@(*)` 组合逻辑语法以前从未使用过，相对较为陌生。
+ `$signed()` 学长多次提醒，前人经常吃亏，可惜总有人屡教不改（比如我）。
    + 其实，`$signed`的使用其实极容易出错。还记得 `bgtz` 指令的添加，由于需要进行二进制补码与 `0` 的大小比较，需要使用到该语法。但是，`$signed(RD1_rs) > 32'b0`这一写法依然有误，应将其修正为 `$signed(RD1_rs) > $signed(32'b0)`。
    + 另外，`b指令` 仍需注意 `EXTOp` 的赋值
    + 还有，`2.0` 的第一题，没有读清题干便匆忙开始做题。题中要求处理的是 **原码与补码**， 小傻瓜全程当成 **反码与补码** 处理，还一个劲纳闷为什么不 `AC` 呢？这要是都让你 `AC` 了，那测评机肯定是坏的不清。
        + 还有一点补充，一定充分利用测评机信息。不要一不 `AC` 就捶胸顿足，灰心丧气，对自己的能力进行灵魂拷问。动动大脑， 为什么 `we expected "... <= 0x00000000" when we got "... <= 0x80000000"` 这么明显的提示你都get不到吗？
+ `MIPS.v`，考试时 `bao` 使用了一种非常奇怪的语法，将同一部件输出端口直接接入同部件的输入端口，直接把 `ISIM` 搞崩溃了。不要随便玩弄 `ISIM` 哦！受伤的最终还是你自己。。。
+ `R-Instr` 指令判断赋值可能会错写为 `Op = 6'b101010`

### **II.** **考试时窗口太多，手忙脚乱**
### **解决方案：提前规划**
+ 从头到尾在同一个 `CPU` 上操作， 摒弃先前 “一条指令一个CPU” 的稳妥操作。窗口太多其实更容易心慌。
+ 文件夹分配：
    + 一级：`p4`, `workbench`, `test`, `mars`, `LabReport`
    + 二级：`mars` : `.class * 3`, `mars4_5.jar`
+ 先在 `VSCode` 上改代码， 改好后导入 `ISIM` 检查语法，仿真。
    1. `VSCode` 最多打开两个窗口，`MIPS.v`与 其他另外一个 ，改好一个关掉一个。
    2. 正式上机前先打开 `ISIM`， 建好文件夹，给他一点反应时间。
    3. 考前一定在脑子里过一遍需要各类指令分别需要更改哪些元件
    ( `HINT: ` `3, 3, 4` )( `NPC`可能要引入`RD1_rs`(已经引入，命名格式改为`RD2`), `RD2_rt`,记得映射到`MIPS.v`中哦！！！)
+ 一定，改好一个模块，映射到 `MIPS.v` 上一个模块。

### **III.** **过于自信，不写测试程序**
+ 这回在正式提交前，每一道题都要写测试程序，否则我就诅咒你 `WA` !!!!!!!!

### **IV.**  `sw`, `lw` ---- **极差的临场应变能力**
+ 第一次，我把锅砸在 `ISIM` 的头上，貌似合情合理，实际上课上程序肯定写的是有问题的！！！
+ 第二次，深受吴佬代码影响，都不会用组合逻辑啦！！！（您可是你真牛逼）

## **B. 考前提醒**
### **这回应该问题不大...吧？（**
+ 总之，**冷静从容优雅**，咱千万别慌，一慌就是要玩儿完的节奏。
+ 不管遇到谁，都冷静关注眼前的题，不要胡思乱想，注意力**高度集中**
+ 进入考场先登陆网站，打开`VSCode`，不做多余操作；
+ 打开 `ISIM` , 建好 `Project` , 存D盘；
+ 新建 `test` , `mars` 两个文件夹；
+ 草稿纸上回忆 `334`, `基本操作原则`
+ 下载后立即解压，压缩包删除，存入对应文件夹；
+ 先运行一个 `code.txt` ，进行功能性测试，仿真界面不要关，防止 `ISIM` 出bug。
+ 开始答题，冷静审题，判断类别，定义操作。
+ 先写测试程序，进行测试，**最后**上手改代码。
+ 草稿纸记录修改模块，只导入修改部分代码，检查语法。
+ 仿真无误，再压缩提交。全程代码修改，只在`VSCode`, 与仿真界面上进行（微调后记得复制粘贴）。**不使用 `Isim` 修改代码！！！**

## 此时的D盘上，应该只有4个一级文件夹；
## 桌面共有6个窗口：`mars`, `isim`, `Wavegraph`, `VSCode`, `Folder`, `Chrome`; 
## 保证最多同时只有3个窗口处于非最小化状态，否则太乱！！！

## **加油！！！ `P4`稳！ `P4`稳！ `P4`稳！**

------------------------------------
# **考后反思：**
### *稳得一批（*
## `1.` `xor`
+ 签到白给题，无需多言
## `2.` `blaez...(whatever)`
+ **两点重要收获**
1. 关于 `RegWrite` 信号，只有在条件满足时才为 `1` ，因此还需将 `RD1` 接口引入 `CU` 中，从而顺利完成控制信号的选择功能。如果直接无脑赋值为 `1`，便会出现 **条件分支不满足时仍写寄存器** 的情况。（本次上机经验再次证明了 **编写测试程序的重要性**，所以，从今以后的三次上机，一定一定一定要 **先写测试程序** ，**后提交给测评机**！！！）
2. 此题实际上是 `J-Instr` 与 `B_instr` 的一个结合，以前从来没有遇到过这种情况，下次注意。
## `3.` `swr`
+ 无脑 `case` 实现，无需多说
+ 奇怪的是，考试时居然在 `case` 的语法上被卡住了3分钟
``` js
    case(DMType) /* no begin */

    endcase /* no end */
```

# **关于 `Fatal Error`**